<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/assets/Images/Batstatelogo.png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="/Student_View_Lost/StudentView.css">
    <title>Student View Lost Items</title>
</head>
<body>  
    <div class="container">
        <header class="nav">
            <h1><i class="fa-solid fa-eye fa-beat-fade"></i> View Lost Items</h1>
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Search for lost items...">
                <button id="searchButton">
                    <i class="fa-solid fa-search"></i> Search
                </button>
            </div>
        </header>

        <div class="items-container" id="itemsContainer">
            <!-- Items will be dynamically loaded here -->
        </div>
    </div>

    <!-- Add the scripts -->
    <script src="/Student_View_Lost/itemsData.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const itemsContainer = document.getElementById('itemsContainer');
            const searchInput = document.getElementById('searchInput');
            const searchButton = document.getElementById('searchButton');

            // Function to display items
            function displayItems(items) {
                itemsContainer.innerHTML = '';
                
                if (items.length === 0) {
                    itemsContainer.innerHTML = '<div class="no-results">No items found</div>';
                    return;
                }

                items.forEach(item => {
                    const itemCard = document.createElement('div');
                    itemCard.className = 'item-card';
                    itemCard.innerHTML = `
                        <img src="${item.image}" alt="${item.name}">
                        <h3>${item.name}</h3>
                        <p><strong>Location Found:</strong> ${item.location}</p>
                        <p><strong>Date Found:</strong> ${item.dateFound}</p>
                        <p><strong>Description:</strong> ${item.description}</p>
                        <p><strong>Claim Requirement:</strong> ${item.claimRequirement}</p>
                    `;
                    itemsContainer.appendChild(itemCard);
                });
            }

            // Function to perform search
            function performSearch() {
                const searchTerm = searchInput.value.toLowerCase().trim();
                
                if (searchTerm === '') {
                    displayItems(lostItems);
                    return;
                }

                const filteredItems = lostItems.filter(item => 
                    item.name.toLowerCase().includes(searchTerm) ||
                    item.location.toLowerCase().includes(searchTerm) ||
                    item.description.toLowerCase().includes(searchTerm)
                );

                displayItems(filteredItems);
            }

            // Event listeners
            searchButton.addEventListener('click', performSearch);
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });

            // Initial display of all items
            displayItems(lostItems);
        });
    </script>
    <script src="/assets/js/Logout.js"></script>
</body>
</html>
